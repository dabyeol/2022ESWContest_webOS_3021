# Rium Aqua

## app

사용자와 상호작용하는 webOS 앱입니다. 어항의 각종 데이터를 표시하며 희망온도, 물갈이 주기, 급여 간격, 조명 세기 등을 제어할 수 있습니다.

또한 실시간 어항 영상을 볼 수 있습니다.

## hardware

### arduino_uno_r3.ino

ESP32-CAM과 시리얼 통신을 이용하여 통신합니다.

필터, 조명, 히터, 모터 정보를 받아오며, 조도 정보를 전달합니다.

| 핀  | 용도 |
| --- | ---- |
| 0   | RX   |
| 1   | TX   |
| 2   | 히터 |
| 3   | 필터 |
| 4   | LED1 |
| 5   | LED2 |
| 6   | LED3 |
| 7   | GND  |
| 8   | 모터 |
| 9   | 모터 |
| 10  | 모터 |
| 11  | 모터 |
| 12  | GND  |
| 13  | 5V   |
| A0  | CDS  |

### esp32cam.ino

로컬 네트워크 내 공유기의 SSID와 password, 서버의 IP 주소 및 포트 번호를 입력해야 합니다.

웹소켓 서버가 보낸 명령을 아두이노로 전달해주고, 카메라 및 온도, 아두이노에서 받은 조도 데이터를 서버로 전송합니다.

| 핀  | 용도  |
| --- | ----- |
| 15  | DHT11 |

## opencv

OpenCV를 webOS 서비스에 구현하기 전 파이썬으로 테스트하는 코드입니다.

## service

웹소켓 서버를 실행합니다. webOS 앱과 상호작용하며 전반적인 데이터를 관리합니다. 앱과 하드웨어 사이를 이어주는 다리 역할을 수행합니다.

또한 OpenCV를 이용하여 카메라 데이터를 분석하며 탁도를 예측합니다.
